<!DOCTYPE html>
<html>
<head>
    <title>Countdown Timer</title>
</head>
<body>
    <canvas id="countdownCanvas" width="800" height="200" style="border:1px solid #000000;"></canvas>

    <script>
        const canvas = document.getElementById('countdownCanvas');
        const ctx = canvas.getContext('2d');

        // Set the initial timer duration (e.g., 5 minutes)
        let timeLeft = 5 * 60;

        // Variable to manage "Time's up" blinking state
        let blinking = false;

        // Function to format the time as MM:SS
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Function to update the canvas
        function updateCanvas(showTime = true) {
            // Clear the canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Set background color
            ctx.fillStyle = '#E0F7FA';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Display the countdown time or blinking "Time's up"
            ctx.fillStyle = '#000';
            ctx.font = '48px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            if (timeLeft > 0 || showTime) {
                ctx.fillText(formatTime(timeLeft), canvas.width / 2, canvas.height / 2);
            } else {
                ctx.fillStyle = blinking ? '#FF5252' : '#E0F7FA'; // Alternate colors for blinking effect
                ctx.fillText('Time\'s up!', canvas.width / 2, canvas.height / 2);
            }
        }

        // Function for the countdown logic
        function countdown() {
            if (timeLeft > 0) {
                timeLeft--; // Decrease time by 1 second
                updateCanvas(); // Update the canvas
            } else {
                clearInterval(timer); // Stop the countdown
                blinking = !blinking; // Toggle blinking state
                updateCanvas(false); // Update canvas with "Time's up" message
            }
        }

        // Initialize the canvas and start the timer
        updateCanvas();
        const timer = setInterval(countdown, 1000); // Update every second
    </script>
</body>
</html>
